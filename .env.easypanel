# ===========================================
# CONFIGURAÇÃO EASYPANEL - DENTAL SAAS
# ===========================================
# Copie estas variáveis para as Environment Variables
# do seu App no EasyPanel

# ===========================================
# BÁSICO
# ===========================================
NODE_ENV=production
PORT=5000

# ===========================================
# BANCO DE DADOS
# ===========================================
# Se usar PostgreSQL do EasyPanel (recomendado):
# Formato: postgresql://usuario:senha@nome-servico-postgres:5432/dental_clinic
# Exemplo com serviço "dental-db" no mesmo projeto:
DATABASE_URL=postgresql://postgres:SENHA_FORTE_AQUI@dental-db:5432/dental_clinic

# ===========================================
# REDIS (SESSÕES E FILAS)
# ===========================================
# Se usar Redis do EasyPanel:
# Formato: nome-servico-redis
REDIS_HOST=dental-redis
REDIS_PORT=6379
REDIS_PASSWORD=SENHA_REDIS_AQUI

# ===========================================
# SESSÃO (CRÍTICO - GERAR VALOR ÚNICO!)
# ===========================================
# Gerar com: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=GERE_UM_SECRET_ALEATORIO_DE_64_CHARS_AQUI

# ===========================================
# URL PÚBLICA (IMPORTANTE PARA WEBHOOKS!)
# ===========================================
# Esta URL é usada pelo Wuzapi para enviar webhooks
# Use a URL pública gerada pelo EasyPanel
# URL do seu app no EasyPanel
BASE_URL=https://odontobot-clinicasite.pbzgje.easypanel.host

# ===========================================
# WUZAPI 3.0 (MESMO VPS)
# ===========================================
# Como está no mesmo VPS, pode usar o nome do serviço
# Se Wuzapi está em projeto diferente, use a URL pública
WUZAPI_BASE_URL=https://private-wuzapi.pbzgje.easypanel.host
WUZAPI_ADMIN_TOKEN=SEU_TOKEN_ADMIN_WUZAPI

# ===========================================
# STRIPE (CARTÃO INTERNACIONAL)
# ===========================================
STRIPE_SECRET_KEY=sk_test_your_stripe_test_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ===========================================
# MERCADOPAGO (PIX/BOLETO - BRASIL)
# ===========================================
MERCADOPAGO_ACCESS_TOKEN=APP_USR-XXXXXXXXXXXXXXXXXXXXXXXX
MERCADOPAGO_WEBHOOK_SECRET=webhook_secret_mercadopago

# ===========================================
# N8N AUTOMAÇÕES
# ===========================================
N8N_WEBHOOK_BASE_URL=https://seu-n8n.easypanel.host
N8N_WEBHOOK_SECRET=GERE_UM_SECRET_ALEATORIO

# SAAS Master API Key (para workflows multi-tenant)
SAAS_MASTER_API_KEY=saas_GERE_UM_SECRET_ALEATORIO_DE_64_CHARS

# ===========================================
# EMAIL SMTP
# ===========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=seu-email@gmail.com
SMTP_PASS=sua-senha-app-gmail
EMAIL_FROM=DentalSystem <noreply@seudominio.com>

# ===========================================
# GOOGLE (CALENDAR + OAUTH)
# ===========================================
GOOGLE_CLIENT_ID=SEU_CLIENT_ID.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-SEU_SECRET
GOOGLE_REDIRECT_URI=https://SEU-APP.SEU-DOMINIO.easypanel.host/api/v1/google/callback

# ===========================================
# MINIO/S3 - SITE (uploads gerais, documentos)
# ===========================================
S3_ENDPOINT=https://odontobot-minio.pbzgje.easypanel.host
S3_ACCESS_KEY_ID=TqGSNroZIPo5R5GkGcht
S3_SECRET_ACCESS_KEY=82PuGhB0KKEMOO7ejy8iatr2VIIjnbDT5HrJaU2q
S3_BUCKET=digital
S3_REGION=us-east-1

# ===========================================
# MINIO/S3 - WUZAPI (mídia WhatsApp)
# ===========================================
# Usando as mesmas credenciais do Site, apenas bucket diferente
WUZAPI_S3_ENDPOINT=https://odontobot-minio.pbzgje.easypanel.host
WUZAPI_S3_ACCESS_KEY=TqGSNroZIPo5R5GkGcht
WUZAPI_S3_SECRET_KEY=82PuGhB0KKEMOO7ejy8iatr2VIIjnbDT5HrJaU2q
WUZAPI_S3_BUCKET=clinica
WUZAPI_S3_REGION=us-east-1
WUZAPI_S3_USE_SSL=true
WUZAPI_S3_FORCE_PATH_STYLE=true

# Chave HMAC para segurança dos webhooks do Wuzapi (mínimo 32 caracteres!)
# IMPORTANTE: Mantenha esta chave em segredo! Gere uma nova com:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
WUZAPI_GLOBAL_HMAC_KEY=bc672e6b7828a96ba9b748526d4b4bf450d638c886be6038e52074af6928fdf0

# ===========================================
# IA (OCR + CHAT)
# ===========================================
# DeepSeek (recomendado - mais barato)
DEEPSEEK_API_KEY=sk-XXXXXXXXXXXXXXXXXXXXXXXX

# Google Vision (OCR de fichas)
# Coloque o arquivo de credenciais em /app/config/
GOOGLE_APPLICATION_CREDENTIALS=./config/google-vision-credentials.json
